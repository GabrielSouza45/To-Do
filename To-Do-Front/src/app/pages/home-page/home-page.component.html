<div class="container mt-5">
  <h2 class="text-center">Lista de Tarefas</h2>

  <!-- Formulário de Nova Tarefa -->
  <form (submit)="adicionarTarefa()" [formGroup]="formToDo" class="mb-3">
    <div class="input-group">
      <input type="text" class="form-control" formControlName="titulo" placeholder="Título da Tarefa" required>
      <input type="text" class="form-control" formControlName="descricao" placeholder="Descrição da Tarefa">
      <select class="form-select" formControlName="status">
        <option value="" disabled selected>Selecione o status</option>
        <option value="PENDENTE" selected>Pendente</option>
        <option value="EM_ANDAMENTO">Em Andamento</option>
        <option value="CONCLUIDA">Concluída</option>
      </select>
      <button type="submit" class="btn btn-primary">Adicionar</button>
    </div>
  </form>

  <!-- Lista de Tarefas -->
  <ul class="list-group">
    <li *ngFor="let tarefa of tarefas" class="list-group-item d-flex justify-content-between align-items-center mt-4">
      <div>
        <h5>{{ tarefa.titulo }}</h5>
        <p>{{ tarefa.descricao }}</p>
        <span class="badge"  [ngClass]="getStatusClass(tarefa.status)">{{ tarefa.status }}</span>
      </div>
      <div>
        <form [formGroup]="formToDo" >
        <select class="form-select mb-2" formControlName="status" place>
          <option value="" disabled selected>Selecione o status</option>
          <option value="PENDENTE">Pendente</option>
          <option value="EM_ANDAMENTO">Em Andamento</option>
          <option value="CONCLUIDA">Concluída</option>
        </select>
      </form>
        <button class="btn btn-success btn-sm me-2" (click)="editarStatus(tarefa)">Alterar Status</button>
        <button class="btn btn-danger btn-sm" (click)="removerTarefa(tarefa.id)">Excluir</button>
      </div>
    </li>
  </ul>
</div>
